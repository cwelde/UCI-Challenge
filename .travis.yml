language: generic

matrix:
    include:
            - os: linux
              sudo: required
            - os: osx
            - language: generic
            - env: PYTHON=3.6.2

# This is for Linux and OSX

before_install:
     #Linux
   - if [ "$TRAVIS_OS_NAME" == "linux" ]; 
     then apt-get --version ; fi
     #Get Version
   - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; 
     then sudo apt-get install -y $(grep -vE '(^#|^$)' requirements.apt) ; fi
     #Get requirements from requirements.apt for linux

     #osx
   - if [ "$TRAVIS_OS_NAME" == "osx" ]; then
     brew update
     brew install openssl readline
     brew outdated pyenv || brew upgrade pyenv
     brew install pyenv-virtualenv
     pyenv install $PYTHON
     export PYENV_VERSION=$PYTHON
     export PATH="/Users/travis/.pyenv/shims:${PATH}"
     pyenv-virtualenv venv
     source venv/bin/activate
     python --version ; fi
install:
        - if [ "$TRAVIS_OS_NAME" == "linux" ]; 
          then sudo pip install -r requirements.pip ; fi

          #FOR OXS --- PIP INSTALL -R REQUIREMENTS.PIP IS NOT WORKING
          #MANUALLY INSTALLING PACKAGES


          #  - if [ "$TRAVIS_OS_NAME" == "osx" ]; then pip install numpy ; fi

          # - if [ "$TRAVIS_OS_NAME" == "osx" ]; then pip install pandas ; fi
           
        - if [ "$TRAVIS_OS_NAME" == "osx"]; then python -m easy_install -U setuptools ; fi
        - if [ "$TRAVIS_OS_NAME" == "osx"]; then
          pip install pandas
          pip install numpy ; fi
before_script:
        - wget http://rapid-hub.org/data/angles_UCI_CS.csv
        - wget http://rapid-hub.org/data/angles_UCI_CS_out.csv
script:
       - sh tst/test_repr.sh
